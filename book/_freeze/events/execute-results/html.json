{
  "hash": "a17a870b646e96521cc86cb0905ebadd",
  "result": {
    "engine": "knitr",
    "markdown": "\n\n\n# Events\n\n`hawkesNet` is **events-first**. Instead of converting your data into a `network`\nobject up-front, you provide **node arrivals** and **edge arrivals** as data\nframes, then call `make_events()` to convert them into the internal `events`\nrepresentation used by simulation and fitting.\n\n## Input data frames\n\n### `nodes`\n\n| Column | Type | Meaning | Notes |\n|---|---|---|---|\n| `id` | character / integer | Node identifier | Must be unique within `nodes`. IDs used in `edges$i`/`edges$j` must match these. |\n| `time` | numeric | Node birth/arrival time | Can be continuous or discrete. Must be comparable to `edges$time`. |\n| `role` (optional) | character | Node role/type (e.g. `\"event\"`, `\"perp\"`) | Required for bipartite kernels (e.g. `*_bip`) if your mark model distinguishes node types. |\n| *(anything else)* | any | Extra node attributes | Carried through as vertex attributes in the underlying network during fitting. |\n\n### `edges`\n\n| Column | Type | Meaning | Notes |\n|---|---|---|---|\n| `i` | character / integer | Tail/endpoint node id | Together with `j` identifies an edge between two nodes. |\n| `j` | character / integer | Head/endpoint node id | Current hawkesNet kernels treat edges as **undirected** (order doesn’t matter). |\n| `time` | numeric | Edge arrival time | Must be \\(\\ge\\) both endpoint birth times (if provided). |\n| *(anything else)* | any | Extra edge attributes | Carried through as edge attributes in the underlying network during fitting. |\n\n## `make_events()` API\n\n| Argument | What it is | What it does |\n|---|---|---|\n| `nodes` | data frame (optional) | Node arrivals (`id`, `time`, …). If omitted, births can be inferred from `edges` (see below). |\n| `edges` | data frame (optional) | Edge arrivals (`i`, `j`, `time`, …). |\n| `allow_implicit_birth` | logical | If `TRUE` and `nodes` is not supplied, infer node birth time as the first time the id appears in `edges`. |\n| `...` | optional | Package may expose additional validation/behaviour flags (kept here to avoid duplicating implementation details in the docs). |\n\n::: {.callout-note}\nIf you *only* pass `edges` (implicit births), you **cannot represent edgeless node\narrivals**—because the node only “exists” when it first appears in an edge.\n:::\n\n## What `make_events()` returns\n\nAn `events` object is a list with three data frames:\n\n| Component | Columns | Meaning |\n|---|---|---|\n| `ev$times` | `event_id`, `t` | Unique sorted times used as event indices. |\n| `ev$nodes` | `event_id`, `id`, … | Node arrivals mapped onto `event_id`. |\n| `ev$edges` | `event_id`, `i`, `j`, … | Edge arrivals mapped onto `event_id`. |\n\nTwo helpers convert these tables into per-event lists:\n\n- `nodes_by_event(ev)` → list of node-arrival data frames (one per `event_id`)\n- `edges_by_event(ev)` → list of edge-arrival data frames (one per `event_id`)\n\n## Example\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnodes <- data.frame(\n  id   = c(\"1\", \"2\", \"3\"),\n  time = c(0, 1, 2)\n)\nedges <- data.frame(\n  i    = c(\"1\", \"1\"),\n  j    = c(\"2\", \"3\"),\n  time = c(1, 2)\n)\n\nev <- make_events(nodes = nodes, edges = edges)\n```\n:::\n\n\n::: {.columns style=\"gap: 0.8rem; padding-bottom: 1.4rem;\"}\n::: {.column width=\"33%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n\n\nTable: Event times\n\n| event_id|  t|\n|--------:|--:|\n|        1|  0|\n|        2|  1|\n|        3|  2|\n\n\n:::\n:::\n\n:::\n::: {.column width=\"33%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n\n\nTable: Node arrivals\n\n| event_id|id |\n|--------:|:--|\n|        1|1  |\n|        2|2  |\n|        3|3  |\n\n\n:::\n:::\n\n:::\n::: {.column width=\"33%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n\n\nTable: Edge arrivals\n\n| event_id|i  |j  |\n|--------:|:--|:--|\n|        2|1  |2  |\n|        3|1  |3  |\n\n\n:::\n:::\n\n:::\n:::\n\n### Implicit births from edges\n\n\n::: {.cell}\n\n```{.r .cell-code}\nedges_example <- data.frame(\n  i    = c(\"1\", \"1\"),\n  j    = c(\"2\", \"3\"),\n  time = c(1, 2)\n)\n\nevents_from_edges <- make_events(edges = edges_example, allow_implicit_birth = TRUE)\n```\n:::\n\n\n::: {.columns style=\"gap: 0.8rem; padding-bottom: 1.4rem;\"}\n::: {.column width=\"33%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n\n\nTable: Event times\n\n| event_id|  t|\n|--------:|--:|\n|        1|  1|\n|        2|  2|\n\n\n:::\n:::\n\n:::\n::: {.column width=\"33%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n\n\nTable: Inferred node arrivals\n\n|     | event_id|id |\n|:----|--------:|:--|\n|NA   |        1|1  |\n|NA.1 |        1|2  |\n|NA.2 |        2|3  |\n\n\n:::\n:::\n\n:::\n::: {.column width=\"33%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n\n\nTable: Edge arrivals\n\n| event_id|i  |j  |\n|--------:|:--|:--|\n|        1|1  |2  |\n|        2|1  |3  |\n\n\n:::\n:::\n\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}