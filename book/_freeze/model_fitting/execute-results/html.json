{
  "hash": "bb2bec43a45e8b1f3adcaa9ee96bff23",
  "result": {
    "engine": "knitr",
    "markdown": "\n\n```{=html}\n<style>\n.vcenter-cols .columns {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n.vcenter-cols .columns .column {\n  flex: 1 1 0;\n}\n</style>\n```\n\n\n# Model Fitting\n\nModel fitting requires an `events` object, created by `make_events()`.\n\nFit models using `fit_hawkesNet()`.\n\n## Example {.unnumbered}\n\nFirst simulate some data (or use your own, and plug it into the `make_events()`\nfunction).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(1)\n\nparams_ba <- list(\n  mu = 2,\n  K = 0.5,\n  beta = 0.8,\n  beta_edges = 0.5\n)\n\ntime <- 50\n\nsim <- sim_hawkesNet(\n  params = params_ba,\n  T_end = time,\n  mark_type = \"ba\"\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Simulation took 1.06 seconds\"\n```\n\n\n:::\n\n```{.r .cell-code}\nevents <- sim$ev\nclass(events)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"events\" \"list\"  \n```\n\n\n:::\n:::\n\n\nAnd then fitting the model. Make sure you specify a `mark_type`. Can be one of:\n`ba`, `cs`, `ba_bip`, `cs_bip`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nparams_init <- list(\n  mu = 5,\n  K = 0.3,\n  beta = 1,\n  beta_edges = 1\n)\n\nfit <- fit_hawkesNet(\n    ev = sim$ev,\n    params_init = params_init,\n    mark_type = \"ba\"\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Fitting took 4.02 seconds\"\n```\n\n\n:::\n:::\n\n\nAnd we can see the fitted values:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nunlist(fit$par)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n        mu          K       beta beta_edges \n 2.1922311  0.4817160  0.7720289  0.5505869 \n```\n\n\n:::\n:::\n\n\nNot terrible!\n\nInternally, the network is built incrementally event-by-event, for each iteration of the\nlikelihood, rather than rebuilding the whole network up until that event, per-event.\n\nStill need to add a proper `summary()` function, as well as return std. errs. This\nshould be really quick to implement, I'm just lazy.\n\nAlso eventually this page (as well as `Simulation`) would contain all the argument\ninformation.\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}