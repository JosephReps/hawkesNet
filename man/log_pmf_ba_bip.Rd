% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pmf_bip_ba.R
\name{log_pmf_ba_bip}
\alias{log_pmf_ba_bip}
\title{Log pmf for BA-bip mark (network-based)}
\usage{
log_pmf_ba_bip(net, new_nodes, new_edges, t_k, params, delta = 0.001)
}
\arguments{
\item{net}{Pre-event network state.}

\item{new_nodes}{data.frame of nodes arriving at t_k. Must include `id` and (for BA-bip) `role`.}

\item{new_edges}{data.frame of edges arriving at t_k. Must include `i`,`j`.}

\item{t_k}{Numeric scalar event time.}

\item{params}{List containing at least beta_edges and lambda_new.}

\item{delta}{Nonnegative scalar baseline for attractiveness.}

\item{role_k}{Optional character vector of roles aligned to rows of new_nodes (legacy hook).}
}
\value{
numeric scalar log pmf.
}
\description{
Likelihood contribution for one accepted event:
- Poisson(K_new | lambda_new) for the number of *new perp* nodes in this event.
- Deterministic edges between the new event node and each new perp (probability 1).
- Independent Bernoulli edges between the new event node and each *old perp* in the
  current network, with probabilities from edge_probs_ba_bip().
}
\details{
Notes:
- We intentionally ignore any other edges in `new_edges` (e.g., event-event or perp-perp),
  but we DO enforce the deterministic event--new_perp edges. If they are missing, we return -Inf.
- This mirrors the "thinned" BA kernel style you used: minimal validation, but enough to keep
  the model identifiable/correct.
}
