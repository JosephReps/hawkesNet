% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pmf_bip_ba.R
\name{log_pmf_ba_bip}
\alias{log_pmf_ba_bip}
\title{Log pmf for BA-bip mark (network-based)}
\usage{
log_pmf_ba_bip(net, new_nodes, new_edges, t_k, params, delta = 0.001)
}
\arguments{
\item{net}{Pre-event network state.}

\item{new_nodes}{data.frame of nodes arriving at t_k. Must include \code{id} and (for BA-bip) \code{role}.}

\item{new_edges}{data.frame of edges arriving at t_k. Must include \code{i},\code{j}.}

\item{t_k}{Numeric scalar event time.}

\item{params}{List containing at least beta_edges and lambda_new.}

\item{delta}{Nonnegative scalar baseline for attractiveness.}

\item{role_k}{Optional character vector of roles aligned to rows of new_nodes (legacy hook).}
}
\value{
numeric scalar log pmf.
}
\description{
Likelihood contribution for one accepted event:
\itemize{
\item Poisson(K_new | lambda_new) for the number of \emph{new perp} nodes in this event.
\item Deterministic edges between the new event node and each new perp (probability 1).
\item Independent Bernoulli edges between the new event node and each \emph{old perp} in the
current network, with probabilities from edge_probs_ba_bip().
}
}
\details{
Notes:
\itemize{
\item We intentionally ignore any other edges in \code{new_edges} (e.g., event-event or perp-perp),
but we DO enforce the deterministic event--new_perp edges. If they are missing, we return -Inf.
\item This mirrors the "thinned" BA kernel style you used: minimal validation, but enough to keep
the model identifiable/correct.
}
}
